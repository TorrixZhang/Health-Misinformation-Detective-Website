{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport LoadingOutlined from '@ant-design/icons/LoadingOutlined';\nimport CloseCircleFilled from '@ant-design/icons/CloseCircleFilled';\nimport CheckCircleFilled from '@ant-design/icons/CheckCircleFilled';\nimport ExclamationCircleFilled from '@ant-design/icons/ExclamationCircleFilled';\nimport useMemo from \"rc-util/es/hooks/useMemo\";\nimport CSSMotion from 'rc-motion';\nimport Col from '../grid/col';\nimport { FormContext } from './context';\nimport useCacheErrors from './hooks/useCacheErrors';\nimport useForceUpdate from '../_util/hooks/useForceUpdate';\nvar iconMap = {\n  success: CheckCircleFilled,\n  warning: ExclamationCircleFilled,\n  error: CloseCircleFilled,\n  validating: LoadingOutlined\n};\n\nvar FormItemInput = function FormItemInput(_ref) {\n  var prefixCls = _ref.prefixCls,\n      wrapperCol = _ref.wrapperCol,\n      children = _ref.children,\n      help = _ref.help,\n      errors = _ref.errors,\n      onDomErrorVisibleChange = _ref.onDomErrorVisibleChange,\n      hasFeedback = _ref.hasFeedback,\n      validateStatus = _ref.validateStatus,\n      extra = _ref.extra;\n  var forceUpdate = useForceUpdate();\n  var baseClassName = \"\".concat(prefixCls, \"-item\");\n  var formContext = React.useContext(FormContext);\n  var mergedWrapperCol = wrapperCol || formContext.wrapperCol || {};\n  var className = classNames(\"\".concat(baseClassName, \"-control\"), mergedWrapperCol.className);\n\n  var _useCacheErrors = useCacheErrors(errors, function (changedVisible) {\n    if (changedVisible) {\n      /**\n       * We trigger in sync to avoid dom shaking but this get warning in react 16.13.\n       * So use Promise to keep in micro async to handle this.\n       * https://github.com/ant-design/ant-design/issues/21698#issuecomment-593743485\n       */\n      Promise.resolve().then(function () {\n        onDomErrorVisibleChange(true);\n      });\n    }\n\n    forceUpdate();\n  }, !!help),\n      _useCacheErrors2 = _slicedToArray(_useCacheErrors, 2),\n      visible = _useCacheErrors2[0],\n      cacheErrors = _useCacheErrors2[1];\n\n  React.useEffect(function () {\n    return function () {\n      onDomErrorVisibleChange(false);\n    };\n  }, []);\n  var memoErrors = useMemo(function () {\n    return cacheErrors;\n  }, visible, function (_, nextVisible) {\n    return nextVisible;\n  }); // Should provides additional icon if `hasFeedback`\n\n  var IconNode = validateStatus && iconMap[validateStatus];\n  var icon = hasFeedback && IconNode ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(baseClassName, \"-children-icon\")\n  }, /*#__PURE__*/React.createElement(IconNode, null)) : null; // Pass to sub FormItem should not with col info\n\n  var subFormContext = _extends({}, formContext);\n\n  delete subFormContext.labelCol;\n  delete subFormContext.wrapperCol;\n  return /*#__PURE__*/React.createElement(FormContext.Provider, {\n    value: subFormContext\n  }, /*#__PURE__*/React.createElement(Col, _extends({}, mergedWrapperCol, {\n    className: className\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(baseClassName, \"-control-input\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(baseClassName, \"-control-input-content\")\n  }, children), icon), /*#__PURE__*/React.createElement(CSSMotion, {\n    motionDeadline: 500,\n    visible: visible,\n    motionName: \"show-help\",\n    onLeaveEnd: function onLeaveEnd() {\n      onDomErrorVisibleChange(false);\n    },\n    motionAppear: true,\n    removeOnLeave: true\n  }, function (_ref2) {\n    var motionClassName = _ref2.className;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(\"\".concat(baseClassName, \"-explain\"), motionClassName),\n      key: \"help\"\n    }, memoErrors.map(function (error, index) {\n      return (\n        /*#__PURE__*/\n        // eslint-disable-next-line react/no-array-index-key\n        React.createElement(\"div\", {\n          key: index,\n          role: \"alert\"\n        }, error)\n      );\n    }));\n  }), extra && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(baseClassName, \"-extra\")\n  }, extra)));\n};\n\nexport default FormItemInput;","map":{"version":3,"names":["_extends","_slicedToArray","React","classNames","LoadingOutlined","CloseCircleFilled","CheckCircleFilled","ExclamationCircleFilled","useMemo","CSSMotion","Col","FormContext","useCacheErrors","useForceUpdate","iconMap","success","warning","error","validating","FormItemInput","_ref","prefixCls","wrapperCol","children","help","errors","onDomErrorVisibleChange","hasFeedback","validateStatus","extra","forceUpdate","baseClassName","concat","formContext","useContext","mergedWrapperCol","className","_useCacheErrors","changedVisible","Promise","resolve","then","_useCacheErrors2","visible","cacheErrors","useEffect","memoErrors","_","nextVisible","IconNode","icon","createElement","subFormContext","labelCol","Provider","value","motionDeadline","motionName","onLeaveEnd","motionAppear","removeOnLeave","_ref2","motionClassName","key","map","index","role"],"sources":["/Users/jiayue/7381-website/node_modules/antd/es/form/FormItemInput.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport LoadingOutlined from '@ant-design/icons/LoadingOutlined';\nimport CloseCircleFilled from '@ant-design/icons/CloseCircleFilled';\nimport CheckCircleFilled from '@ant-design/icons/CheckCircleFilled';\nimport ExclamationCircleFilled from '@ant-design/icons/ExclamationCircleFilled';\nimport useMemo from \"rc-util/es/hooks/useMemo\";\nimport CSSMotion from 'rc-motion';\nimport Col from '../grid/col';\nimport { FormContext } from './context';\nimport useCacheErrors from './hooks/useCacheErrors';\nimport useForceUpdate from '../_util/hooks/useForceUpdate';\nvar iconMap = {\n  success: CheckCircleFilled,\n  warning: ExclamationCircleFilled,\n  error: CloseCircleFilled,\n  validating: LoadingOutlined\n};\n\nvar FormItemInput = function FormItemInput(_ref) {\n  var prefixCls = _ref.prefixCls,\n      wrapperCol = _ref.wrapperCol,\n      children = _ref.children,\n      help = _ref.help,\n      errors = _ref.errors,\n      onDomErrorVisibleChange = _ref.onDomErrorVisibleChange,\n      hasFeedback = _ref.hasFeedback,\n      validateStatus = _ref.validateStatus,\n      extra = _ref.extra;\n  var forceUpdate = useForceUpdate();\n  var baseClassName = \"\".concat(prefixCls, \"-item\");\n  var formContext = React.useContext(FormContext);\n  var mergedWrapperCol = wrapperCol || formContext.wrapperCol || {};\n  var className = classNames(\"\".concat(baseClassName, \"-control\"), mergedWrapperCol.className);\n\n  var _useCacheErrors = useCacheErrors(errors, function (changedVisible) {\n    if (changedVisible) {\n      /**\n       * We trigger in sync to avoid dom shaking but this get warning in react 16.13.\n       * So use Promise to keep in micro async to handle this.\n       * https://github.com/ant-design/ant-design/issues/21698#issuecomment-593743485\n       */\n      Promise.resolve().then(function () {\n        onDomErrorVisibleChange(true);\n      });\n    }\n\n    forceUpdate();\n  }, !!help),\n      _useCacheErrors2 = _slicedToArray(_useCacheErrors, 2),\n      visible = _useCacheErrors2[0],\n      cacheErrors = _useCacheErrors2[1];\n\n  React.useEffect(function () {\n    return function () {\n      onDomErrorVisibleChange(false);\n    };\n  }, []);\n  var memoErrors = useMemo(function () {\n    return cacheErrors;\n  }, visible, function (_, nextVisible) {\n    return nextVisible;\n  }); // Should provides additional icon if `hasFeedback`\n\n  var IconNode = validateStatus && iconMap[validateStatus];\n  var icon = hasFeedback && IconNode ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(baseClassName, \"-children-icon\")\n  }, /*#__PURE__*/React.createElement(IconNode, null)) : null; // Pass to sub FormItem should not with col info\n\n  var subFormContext = _extends({}, formContext);\n\n  delete subFormContext.labelCol;\n  delete subFormContext.wrapperCol;\n  return /*#__PURE__*/React.createElement(FormContext.Provider, {\n    value: subFormContext\n  }, /*#__PURE__*/React.createElement(Col, _extends({}, mergedWrapperCol, {\n    className: className\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(baseClassName, \"-control-input\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(baseClassName, \"-control-input-content\")\n  }, children), icon), /*#__PURE__*/React.createElement(CSSMotion, {\n    motionDeadline: 500,\n    visible: visible,\n    motionName: \"show-help\",\n    onLeaveEnd: function onLeaveEnd() {\n      onDomErrorVisibleChange(false);\n    },\n    motionAppear: true,\n    removeOnLeave: true\n  }, function (_ref2) {\n    var motionClassName = _ref2.className;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(\"\".concat(baseClassName, \"-explain\"), motionClassName),\n      key: \"help\"\n    }, memoErrors.map(function (error, index) {\n      return (\n        /*#__PURE__*/\n        // eslint-disable-next-line react/no-array-index-key\n        React.createElement(\"div\", {\n          key: index,\n          role: \"alert\"\n        }, error)\n      );\n    }));\n  }), extra && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(baseClassName, \"-extra\")\n  }, extra)));\n};\n\nexport default FormItemInput;"],"mappings":"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"},"metadata":{},"sourceType":"module"}