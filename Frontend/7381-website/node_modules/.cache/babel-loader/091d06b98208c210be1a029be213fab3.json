{"ast":null,"code":"var _jsxFileName = \"/Users/yutao/Desktop/MIT-S3/Django/7381-Project/Frontend/7381-website/src/pages/components/postForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { BACKEND_URL } from \"../plugin\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PostArticle() {\n  _s();\n\n  const [title, setTitle] = useState(\"\");\n  const [slug, setSlug] = useState(\"\");\n  const [category, setCategory] = useState(null);\n  const [content, setContent] = useState(\"\");\n  const [DateCreated, setDatecreated] = useState(null);\n\n  const titleChangeHandler = e => {\n    setTitle(e.target.value);\n  };\n\n  const slugChangeHandler = e => {\n    setSlug(e.target.value);\n  };\n\n  const categoryChangeHandler = e => {\n    setCategory(e.target.value);\n  };\n\n  const contentChangeHandler = e => {\n    setContent(e.target.value);\n  };\n\n  const DateCreatedChangeHandler = e => {\n    setDatecreated(e.target.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    console.log(category);\n\n    const getFormData = object => Object.keys(object).reduce((formData, key) => {\n      formData.append(key, object[key]);\n      return formData;\n    }, new FormData());\n\n    const data = {\n      title: title,\n      slug: slug,\n      date_created: DateCreated,\n      content: content,\n      category: category\n    };\n    const config = {\n      headers: {\n        \"Content-Type\": \"multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW\"\n      }\n    };\n\n    const postForm = async () => {\n      try {\n        const res = await axios.post(`${BACKEND_URL}/api/writings/new/`, getFormData(data), config); // setBlogs(res.data);\n\n        console.log(\"Submitted true\");\n      } catch (error) {\n        console.log(\"Submitted false\");\n        console.log(error);\n        console.log(\"Response body\", error.response.data);\n      }\n    };\n\n    postForm();\n    alert(\"Success\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          class: \"fromTitle \",\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-sm-10\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"title\",\n            className: \"form-control\",\n            type: \"text\",\n            value: title,\n            onChange: titleChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          class: \"fromTitle \",\n          children: \"Slug\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-sm-10\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"slug\",\n            className: \"form-control\",\n            type: \"text\",\n            value: slug,\n            onChange: slugChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          class: \"fromTitle\",\n          children: \"Topic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-sm-10\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-control\",\n            name: \"category\",\n            value: category,\n            onChange: categoryChangeHandler,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Nutrition\",\n              children: \"Nutrition\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Diseases\",\n              children: \"Diseases\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Beauty\",\n              children: \"Beauty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group \",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          class: \"fromTitle \",\n          children: \"Content\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-sm-10\",\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"content\",\n            className: \"form-control\",\n            onChange: contentChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group \",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          class: \"fromTitle \",\n          children: \"Date created\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-sm-10\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"date_created\",\n            className: \"form-control\",\n            type: \"datetime-local\",\n            defaultValue: DateCreated,\n            onChange: DateCreatedChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Post it!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PostArticle, \"W2pNDeLhNFJ6MLz0WnKZFr3zujY=\");\n\n_c = PostArticle;\nexport default PostArticle;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostArticle\");","map":{"version":3,"names":["React","useState","axios","BACKEND_URL","PostArticle","title","setTitle","slug","setSlug","category","setCategory","content","setContent","DateCreated","setDatecreated","titleChangeHandler","e","target","value","slugChangeHandler","categoryChangeHandler","contentChangeHandler","DateCreatedChangeHandler","handleSubmit","event","preventDefault","console","log","getFormData","object","Object","keys","reduce","formData","key","append","FormData","data","date_created","config","headers","postForm","res","post","error","response","alert"],"sources":["/Users/yutao/Desktop/MIT-S3/Django/7381-Project/Frontend/7381-website/src/pages/components/postForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { BACKEND_URL } from \"../plugin\";\n\nfunction PostArticle() {\n  const [title, setTitle] = useState(\"\");\n  const [slug, setSlug] = useState(\"\");\n  const [category, setCategory] = useState(null);\n  const [content, setContent] = useState(\"\");\n  const [DateCreated, setDatecreated] = useState(null);\n\n  const titleChangeHandler = (e) => {\n    setTitle(e.target.value);\n  };\n  const slugChangeHandler = (e) => {\n    setSlug(e.target.value);\n  };\n  const categoryChangeHandler = (e) => {\n    setCategory(e.target.value);\n  };\n  const contentChangeHandler = (e) => {\n    setContent(e.target.value);\n  };\n  const DateCreatedChangeHandler = (e) => {\n    setDatecreated(e.target.value);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    console.log(category);\n\n    const getFormData = (object) =>\n      Object.keys(object).reduce((formData, key) => {\n        formData.append(key, object[key]);\n        return formData;\n      }, new FormData());\n\n    const data = {\n      title: title,\n      slug: slug,\n      date_created: DateCreated,\n      content: content,\n      category: category,\n    };\n\n    const config = {\n      headers: {\n        \"Content-Type\":\n          \"multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW\",\n      },\n    };\n    const postForm = async () => {\n      try {\n        const res = await axios.post(\n          `${BACKEND_URL}/api/writings/new/`,\n          getFormData(data),\n          config\n        );\n        // setBlogs(res.data);\n        console.log(\"Submitted true\");\n      } catch (error) {\n        console.log(\"Submitted false\");\n        console.log(error);\n        console.log(\"Response body\", error.response.data);\n      }\n    };\n    postForm();\n    alert(\"Success\");\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div class=\"form-group\">\n          <label class=\"fromTitle \">Title</label>\n          <div class=\"col-sm-10\">\n            <input\n              name=\"title\"\n              className=\"form-control\"\n              type=\"text\"\n              value={title}\n              onChange={titleChangeHandler}\n            />\n          </div>\n        </div>\n        <div class=\"form-group\">\n          <label class=\"fromTitle \">Slug</label>\n          <div class=\"col-sm-10\">\n            <input\n              name=\"slug\"\n              className=\"form-control\"\n              type=\"text\"\n              value={slug}\n              onChange={slugChangeHandler}\n            />\n          </div>\n        </div>\n\n        <div class=\"form-group\">\n          <label class=\"fromTitle\">Topic</label>\n\n          <div class=\"col-sm-10\">\n            <select\n              className=\"form-control\"\n              name=\"category\"\n              value={category}\n              onChange={categoryChangeHandler}\n            >\n              <option value=\"Nutrition\">Nutrition</option>\n\n              <option value=\"Diseases\">Diseases</option>\n\n              <option value=\"Beauty\">Beauty</option>\n            </select>\n          </div>\n        </div>\n\n        <div class=\"form-group \">\n          <label class=\"fromTitle \">Content</label>\n\n          <div class=\"col-sm-10\">\n            <textarea\n              name=\"content\"\n              className=\"form-control\"\n              onChange={contentChangeHandler}\n            ></textarea>\n          </div>\n        </div>\n        <div class=\"form-group \">\n          <label class=\"fromTitle \">Date created</label>\n\n          <div class=\"col-sm-10\">\n            <input\n              name=\"date_created\"\n              className=\"form-control\"\n              type=\"datetime-local\"\n              defaultValue={DateCreated}\n              onChange={DateCreatedChangeHandler}\n            />\n          </div>\n        </div>\n        <div class=\"form-actions\">\n          <button type=\"submit\">Post it!</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default PostArticle;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}